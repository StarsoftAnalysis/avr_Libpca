<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Pure C Arduino Library: include/beeper.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Pure C Arduino Library
   </div>
   <div id="projectbrief">A set of API to ease up software development in C for Arduino</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('beeper_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">beeper.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>API for generating tones using timer(s).  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="config_8h_source.html">config.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="tdelay_8h_source.html">tdelay.h</a>&quot;</code><br/>
</div>
<p><a href="beeper_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aebcf141e7084ae4d33a8f7ff8d2b575f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="beeper_8h.html#aebcf141e7084ae4d33a8f7ff8d2b575f">beeper_block</a> (<a class="el" href="timer__common_8h.html#a672c8fd224210b8e7e824c7ab34f1fb5">e_timer</a> a_timer)</td></tr>
<tr class="memdesc:aebcf141e7084ae4d33a8f7ff8d2b575f"><td class="mdescLeft">&#160;</td><td class="mdescRight">block execution until the tone fades out  <a href="#aebcf141e7084ae4d33a8f7ff8d2b575f">More...</a><br/></td></tr>
<tr class="separator:aebcf141e7084ae4d33a8f7ff8d2b575f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a750228466af387ae90ef1c5cc29fd5b5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="beeper_8h.html#a750228466af387ae90ef1c5cc29fd5b5">beeper_init</a> (<a class="el" href="timer__common_8h.html#a672c8fd224210b8e7e824c7ab34f1fb5">e_timer</a> a_timer)</td></tr>
<tr class="memdesc:a750228466af387ae90ef1c5cc29fd5b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">initialize a given timer to act as a tone generator  <a href="#a750228466af387ae90ef1c5cc29fd5b5">More...</a><br/></td></tr>
<tr class="separator:a750228466af387ae90ef1c5cc29fd5b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a570cfd2fa1e0a0a8632cedcc8b382ba7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="beeper_8h.html#a570cfd2fa1e0a0a8632cedcc8b382ba7">beeper_beep</a> (<a class="el" href="timer__common_8h.html#a672c8fd224210b8e7e824c7ab34f1fb5">e_timer</a> a_timer, uint32_t freq, uint32_t duration)</td></tr>
<tr class="memdesc:a570cfd2fa1e0a0a8632cedcc8b382ba7"><td class="mdescLeft">&#160;</td><td class="mdescRight">generate a tone of specific frequency and duration using a timer  <a href="#a570cfd2fa1e0a0a8632cedcc8b382ba7">More...</a><br/></td></tr>
<tr class="separator:a570cfd2fa1e0a0a8632cedcc8b382ba7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57708f6ff8b198d67d835f3590339661"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="beeper_8h.html#a57708f6ff8b198d67d835f3590339661">beeper_off</a> (<a class="el" href="timer__common_8h.html#a672c8fd224210b8e7e824c7ab34f1fb5">e_timer</a> a_timer)</td></tr>
<tr class="memdesc:a57708f6ff8b198d67d835f3590339661"><td class="mdescLeft">&#160;</td><td class="mdescRight">cancel tone generation  <a href="#a57708f6ff8b198d67d835f3590339661">More...</a><br/></td></tr>
<tr class="separator:a57708f6ff8b198d67d835f3590339661"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>API for generating tones using timer(s). </p>
<p>This file provides a basic API to use the Atmega328p timers as tone generators.</p>
<p>In order to use this API an interrupt implementation must be enabled in <a class="el" href="config_8h.html" title="This file stores all significant compilation configuration flags which decide upon the implementation...">config.h</a> for a requested timer (TDELAY_IMPLEMENT_T0_INT, TDELAY_IMPLEMENT_T1_INT, TDELAY_IMPLEMENT_T2_INT). For details please refer to the documentation of <a class="el" href="config_8h.html" title="This file stores all significant compilation configuration flags which decide upon the implementation...">config.h</a> options</p>
<p>This API works in general the same as tdelay API. The only difference between those two is that beeper API in addition toggles the OCXA pin of the associated timer in order to generate the requested frequency on the pin. For all timers only TIMERX_COMPA_vect interrupt is implemented and only OCXA output is used. This implementation does not support and/or handle the OCXB output and OCXB outputs. </p>

<p>Definition in file <a class="el" href="beeper_8h_source.html">beeper.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a570cfd2fa1e0a0a8632cedcc8b382ba7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void beeper_beep </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="timer__common_8h.html#a672c8fd224210b8e7e824c7ab34f1fb5">e_timer</a>&#160;</td>
          <td class="paramname"><em>a_timer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>freq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>duration</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>generate a tone of specific frequency and duration using a timer </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a_timer</td><td>timer </td></tr>
    <tr><td class="paramname">freq</td><td>frequency in Hz (may be 0 - will allow to use bepper_block for an amount of timer specified in duration argument) </td></tr>
    <tr><td class="paramname">duration</td><td>duration in milliseconds </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="beeper_8c_source.html#l00068">68</a> of file <a class="el" href="beeper_8c_source.html">beeper.c</a>.</p>

</div>
</div>
<a class="anchor" id="aebcf141e7084ae4d33a8f7ff8d2b575f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void beeper_block </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="timer__common_8h.html#a672c8fd224210b8e7e824c7ab34f1fb5">e_timer</a>&#160;</td>
          <td class="paramname"><em>a_timer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>block execution until the tone fades out </p>
<p>This function is a wrapper over <a class="el" href="tdelay__common_8c.html#afd2c0f34c8dd0b4e981992470f18094e" title="block until timer expires (must be configured before) ">_tdc_block()</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a_timer</td><td>timer used for tone generation</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p>Definition at line <a class="el" href="beeper_8c_source.html#l00138">138</a> of file <a class="el" href="beeper_8c_source.html">beeper.c</a>.</p>

</div>
</div>
<a class="anchor" id="a750228466af387ae90ef1c5cc29fd5b5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void beeper_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="timer__common_8h.html#a672c8fd224210b8e7e824c7ab34f1fb5">e_timer</a>&#160;</td>
          <td class="paramname"><em>a_timer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>initialize a given timer to act as a tone generator </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a_timer</td><td>timer </td></tr>
  </table>
  </dd>
</dl>
<p>inverted logic is used here, because checking for zero produces less code on AVR than for 1</p>

<p>Definition at line <a class="el" href="beeper_8c_source.html#l00032">32</a> of file <a class="el" href="beeper_8c_source.html">beeper.c</a>.</p>

</div>
</div>
<a class="anchor" id="a57708f6ff8b198d67d835f3590339661"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void beeper_off </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="timer__common_8h.html#a672c8fd224210b8e7e824c7ab34f1fb5">e_timer</a>&#160;</td>
          <td class="paramname"><em>a_timer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>cancel tone generation </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a_timer</td><td>timer </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="beeper_8c_source.html#l00104">104</a> of file <a class="el" href="beeper_8c_source.html">beeper.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="beeper_8h.html">beeper.h</a></li>
    <li class="footer">Generated on Tue Oct 1 2013 14:12:16 for Pure C Arduino Library by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
